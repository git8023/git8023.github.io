(function(){var e={1917:function(e,t,r){"use strict";var o=r(5453);const n=new o.zv;var i;(function(e){let t;(function(e){e[e["OK"]=200]="OK",e[e["INVALID_PARAM"]=400]="INVALID_PARAM",e[e["UNAUTHORIZED"]=401]="UNAUTHORIZED",e[e["FORBIDDEN"]=403]="FORBIDDEN",e[e["NOT_FOUND"]=404]="NOT_FOUND",e[e["INVALID_OPERATE"]=406]="INVALID_OPERATE",e[e["LOGIN_INVALID"]=482]="LOGIN_INVALID",e[e["LOGIN_EXPIRED"]=481]="LOGIN_EXPIRED",e[e["NON_LOGIN"]=480]="NON_LOGIN",e[e["SYS_ERROR"]=500]="SYS_ERROR",e[e["CLOUD_ERROR"]=600]="CLOUD_ERROR"})(t=e.RCode||(e.RCode={}))})(i||(i={}));var s=r(4311),l=r(2655),a=r(7178),c=r(5410),d=r.n(c);const p=s.Z.create({baseURL:{NODE_ENV:"production",VUE_APP_VERSION:"0.0.1",BASE_URL:""}.VUE_APP_BASE_API,timeout:5e3});p.interceptors.request.use((e=>{e.params=o.II.compact(e.params);const t=e.method?.toUpperCase();return o.UL.info("[>>]",t,e.url,e.params,e.data),"GET"===t&&(e.paramsSerializer={serialize:e=>d().stringify(e,{arrayFormat:"repeat"})}),e}),(e=>{o.UL.error("Request Error",e)}));let u=!1;p.interceptors.response.use((e=>{o.UL.info("[<<]",e.config.method.toUpperCase(),e.config.url,e.data);const{data:t}=e;if(t.code===i.RCode.OK)return e;switch(t.code){case i.RCode.LOGIN_EXPIRED:case i.RCode.NON_LOGIN:{const e=t.message||"用户未登录或状态已过期";o.UL.warn(e,t),u||(u=!0,l.T.confirm(e,"登录提示",{type:"warning",confirmButtonText:"重新登录",cancelButtonText:"关闭",showClose:!1,showCancelButton:!1}).then((()=>n.emit("REDO_LOGIN"))).catch((()=>o.UL.debug("保持当前页面"))).finally((()=>u=!1)));break}default:(0,a.z8)({type:"error",message:t.message})}return Promise.reject(Error(`数据状态不是 enums.RCode.OK[${i.RCode.OK}]`))}),(e=>{const t=e.message.includes("timeout");if(t){const e="服务器响应超时";return o.UL.error(e),a.z8.error({message:e,grouping:!0}),Promise.reject()}const r=e.response&&e.response.status;return 404===r?(o.UL.error("404: 请求接口不存在",e),a.z8.error({message:`请求接口不存在: ${e.config.url}`,grouping:!0}),Promise.reject(`[404] 请求接口不存在: ${e.config.url}`)):(a.z8.error({message:"服务器忙, 请稍候再试",grouping:!0}),o.UL.error("Response Error:",e.message,e),Promise.reject())}));var f=p,h=r(2748),v=r(5953),m=r(814),y=(r(4415),{install(e){for(const[t,r]of Object.entries(h))e.component(t,r);e.use(v.Z,{locale:m.Z})}}),g=r(3396),R=r(2268);const w={class:"root-file-tree-node"},b=["data-origin"],_={class:"dc-flex-other_only"};function $(e,t,r,o,n,i){const s=(0,g.up)("SvgIcon");return(0,g.wg)(),(0,g.iD)("div",w,[(0,g._)("div",{class:"dc-flex-row dc-flex-center item pointer padding","data-origin":e.node,onClick:t[0]||(t[0]=(...t)=>e.onOpen&&e.onOpen(...t))},[(0,g.Wm)(s,{type:"directory"===e.node.handle.kind?"opened-folder":"File"},null,8,["type"]),(0,g._)("span",_,(0,R.zw)(e.node.handle.name),1)],8,b),e.openChildren?((0,g.wg)(!0),(0,g.iD)(g.HY,{key:0},(0,g.Ko)(e.node.children,(e=>((0,g.wg)(),(0,g.j4)((0,g.LL)("FileTreeNode"),{key:e.id,node:e},null,8,["node"])))),128)):(0,g.kq)("",!0)])}var x=r(7327);const O=["src"];function k(e,t,r,o,n,i){return(0,g.wg)(),(0,g.iD)("embed",{src:e.srcInner,class:"root-svg-icon"},null,8,O)}var I=r(6520),C=r(4815),j=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let T=class extends I.w3{constructor(...e){super(...e),(0,x.Z)(this,"src",void 0),(0,x.Z)(this,"type",void 0)}get srcInner(){return this.src?this.src:r(2498)(`./${this.type}.svg`)}};j([(0,C.fI)()],T.prototype,"src",void 0),j([(0,C.fI)()],T.prototype,"type",void 0),T=j([(0,I.Ei)({components:{},emits:[]})],T);var Z=T,F=r(89);const E=(0,F.Z)(Z,[["render",k],["__scopeId","data-v-e442149c"]]);var D=E;const P=o.v6.generate({activeRefer:o.RF.nil},!0,"laboratory"),A=o.v6.generate({rootHandle:o.RF.nil,content:o.RF.anyO,files:o.RF.anyA,currentFile:o.RF.nil,extractMod:o.RF.anyA},!0,"openApiTransfer"),N=o.v6.generate({topRefer:o.RF.as(),toolRefer:o.RF.as()},!0,"sys");class L{}(0,x.Z)(L,"sys",o.v6.namespaceX(N)),(0,x.Z)(L,"openApiTransfer",o.v6.namespaceX(A)),(0,x.Z)(L,"laboratory",o.v6.namespaceX(P));var M=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let U=class extends I.w3{constructor(...e){super(...e),(0,x.Z)(this,"node",void 0),(0,x.Z)(this,"currentFile",void 0),(0,x.Z)(this,"openChildren",!1)}mounted(){}onOpen(){"directory"===this.node.handle.kind?this.openChildren=!this.openChildren:this.currentFile({id:this.node.id,handle:this.node.handle})}};M([(0,C.fI)({required:!0})],U.prototype,"node",void 0),M([L.openApiTransfer.Action("currentFile")],U.prototype,"currentFile",void 0),U=M([(0,I.Ei)({components:{SvgIcon:D},emits:[]})],U);var V=U;const W=(0,F.Z)(V,[["render",$],["__scopeId","data-v-9d5ae892"]]);var S=W,G={install(e){e.component("FileTreeNode",S)}};class z{static get version(){return"0.0.1"}}class H{constructor(e){(0,x.Z)(this,"og",void 0),(0,x.Z)(this,"val",void 0),(0,x.Z)(this,"isEnd",!1),this.og=e,this.val=o.FI.execOrGetter(e)}static of(e){return new H(e)}get value(){return this.val}get isNil(){return o.iA.isNil(this.val)}get isTruthy(){return o.iA.notNil(this.val)&&!!this.val}get isFalsy(){return!this.isTruthy}get vueKey(){return JSON.stringify(this.val)}toString(){return`${this.val}`}ifEnd(e){return this.isEnd=e(this.val),this}ifNilEnd(e){const{isNil:t}=this;return this.ifNil(e).ifEnd((()=>t))}ifNil(e){return this.isEnd||this.isNil&&(this.val=e),this}ifEmpty(e){return this.isEnd||o.iA.isEmpty(this.val)&&(this.val=e),this}dateFmt(e="yyyy-MM-dd HH:mm:ss",t){return this.isEnd||(this.val=t?o.L0.datePoF(this.val,t,e):o.L0.dateFmt(this.val,e)),this}seek(e,t){return this.isEnd?this:o.iA.isNullOrUndefined(e)?(this.val=void 0,this):(this.val=o.II.get(this.val,`${e}`)||t,this)}status(e,t){return this.seek(e).ifNilEnd(t).seek("name")}tryBroken(e,t=!0){const r=o.FI.call(e,this.val);return t?(this.isEnd=!0,this.val):(this.val=r,this)}}class B{constructor(e){(0,x.Z)(this,"vm",void 0),this.vm=e}static of(e){return new B(e)}}var K={install(e){e.config.globalProperties.window$=window,e.config.globalProperties.pipe$=H.of,e.config.globalProperties.config$=z,e.config.globalProperties.broadcast$=n,e.config.globalProperties.vmx$=B.of}},q=r(5792);q.Z.configure({ignoreUnescapedHTML:!0});var Y={install(e){e.directive("high-light",((e,t)=>{const r=e.querySelectorAll("pre code");r.forEach((e=>q.Z.highlightElement(e)))}))}},X={install(e){e.use(y).use(K).use(G).use(Y),o.Up.set("AXIOS_SERVICE",f)}},J=r(9242);function Q(e,t){const r=(0,g.up)("router-view");return(0,g.wg)(),(0,g.j4)(r)}const ee={},te=(0,F.Z)(ee,[["render",Q]]);var re=te;const oe={class:"root dc-full-window"},ne={class:"bounds dc-flex-col dc-full-height dc-margin-center"},ie={class:"dc-flex-1 height__zero"};function se(e,t,r,o,n,i){const s=(0,g.up)("TopMenu"),l=(0,g.up)("ReferView"),a=(0,g.up)("router-view");return(0,g.wg)(),(0,g.iD)("div",oe,[(0,g._)("div",ne,[(0,g.Wm)(s),(0,g._)("div",ie,["REFER"===e.referType?((0,g.wg)(),(0,g.j4)(l,{key:0,refer:e.refer},null,8,["refer"])):((0,g.wg)(),(0,g.j4)(a,{key:1}))])])])}const le={class:"root-top-menu"};function ae(e,t,r,o,n,i){const s=(0,g.up)("Linker");return(0,g.wg)(),(0,g.iD)("div",le,[((0,g.wg)(!0),(0,g.iD)(g.HY,null,(0,g.Ko)(e.refers,(t=>((0,g.wg)(),(0,g.j4)(s,{key:e.pipe$(t).vueKey,refer:t,class:(0,R.C_)({"active-refer":t===e.activeTopRefer}),onClick:r=>e.onLikerClick(t)},null,8,["refer","class","onClick"])))),128))])}r(7658);function ce(e,t,r,o,n,i){return(0,g.wg)(),(0,g.iD)("div",{class:(0,R.C_)(["root-linker",e.styleClasses])},[(0,g.Uk)((0,R.zw)(e.refer.label)+" ",1),(0,g.WI)(e.$slots,"default",{},void 0,!0)],2)}class de{static checkConfigured(e,t=!0){return!!e||!!o.iA.isEmpty(e)&&t}static fullscreen(e=!0){return document.fullscreenEnabled?e?document.body.requestFullscreen():document.fullscreenElement?document.exitFullscreen():Promise.resolve():Promise.resolve()}}var pe=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let ue=class extends I.w3{constructor(...e){super(...e),(0,x.Z)(this,"refer",void 0),(0,x.Z)(this,"blocked",void 0),(0,x.Z)(this,"subLink",void 0),(0,x.Z)(this,"styleClasses",[])}get classes(){return this.styleClasses.join(" ")}watch$blocked(){this.styleClasses.push(de.checkConfigured(this.blocked)?"dc-block":"dc-inline-block")}watch$subLink(){this.styleClasses.push(de.checkConfigured(this.subLink)?"sub-link":"")}};pe([(0,C.fI)({required:!0})],ue.prototype,"refer",void 0),pe([(0,C.fI)({default:!1})],ue.prototype,"blocked",void 0),pe([(0,C.fI)({default:!1})],ue.prototype,"subLink",void 0),pe([(0,C.RL)("blocked",{immediate:!0})],ue.prototype,"watch$blocked",null),pe([(0,C.RL)("subLink",{immediate:!0})],ue.prototype,"watch$subLink",null),ue=pe([(0,I.Ei)({components:{},emits:[]})],ue);var fe=ue;const he=(0,F.Z)(fe,[["render",ce],["__scopeId","data-v-d0a7b84e"]]);var ve=he,me=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let ye=class extends I.w3{constructor(...e){super(...e),(0,x.Z)(this,"activeTopRefer",void 0),(0,x.Z)(this,"setActiveTopRefer",void 0),(0,x.Z)(this,"refers",[{label:"ToolBox",type:"REFER",href:"./tool-box/doc/index.html"},{type:"INNER",label:"Online Tools",path:"/online-tools"},{type:"INNER",label:"Lab",path:"/laboratory"}])}get pathReferMapper(){return o.tk.toMap(this.refers,"path")}mounted(){if("/"===this.$route.path)return void this.onLikerClick(this.refers[0]);let e=this.pathReferMapper[this.$route.path];if(e)return void this.onLikerClick(e);const t=this.$route.path.split("/")[1];e=this.pathReferMapper[`/${t}`],e&&this.onLikerClick(e)}onLikerClick(e){this.setActiveTopRefer(e),"INNER"===e.type&&this.$router.push({path:e.path})}};me([L.sys.Getter("topRefer")],ye.prototype,"activeTopRefer",void 0),me([L.sys.Action("topRefer")],ye.prototype,"setActiveTopRefer",void 0),ye=me([(0,I.Ei)({components:{Linker:ve},emits:[]})],ye);var ge=ye;const Re=(0,F.Z)(ge,[["render",ae],["__scopeId","data-v-b10c4fba"]]);var we=Re;const be={class:"root-refer-view dc-full-height"},_e=["src","title"];function $e(e,t,r,o,n,i){return(0,g.wg)(),(0,g.iD)("div",be,[(0,g._)("iframe",{src:e.refer.href,title:e.refer.label,class:"dc-full dc-block"},null,8,_e)])}var xe=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Oe=class extends I.w3{constructor(...e){super(...e),(0,x.Z)(this,"refer",void 0)}};xe([(0,C.fI)({required:!0})],Oe.prototype,"refer",void 0),Oe=xe([(0,I.Ei)({components:{},emits:[]})],Oe);var ke=Oe;const Ie=(0,F.Z)(ke,[["render",$e],["__scopeId","data-v-7fee2790"]]);var Ce=Ie;function je(e,t,r,o,n,i){const s=(0,g.up)("el-scrollbar");return(0,g.wg)(),(0,g.iD)("div",{class:(0,R.C_)(["root-scroller",{"dc-full-height":e.fullInner}])},[(0,g.Wm)(s,null,{default:(0,g.w5)((()=>[(0,g._)("div",null,[(0,g.WI)(e.$slots,"default",{},void 0,!0)])])),_:3})],2)}var Te=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Ze=class extends I.w3{constructor(...e){super(...e),(0,x.Z)(this,"full",void 0)}get fullInner(){return de.checkConfigured(this.full)}};Te([(0,C.fI)({default:!0})],Ze.prototype,"full",void 0),Ze=Te([(0,I.Ei)({components:{},emits:[]})],Ze);var Fe=Ze;const Ee=(0,F.Z)(Fe,[["render",je],["__scopeId","data-v-7752c4cc"]]);var De=Ee,Pe=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Ae=class extends I.w3{constructor(...e){super(...e),(0,x.Z)(this,"refer",void 0)}get referType(){return o.II.get(this.refer,"type")}};Pe([L.sys.Getter("topRefer")],Ae.prototype,"refer",void 0),Ae=Pe([(0,I.Ei)({components:{ReferView:Ce,Scroller:De,TopMenu:we},emits:[]})],Ae);var Ne=Ae;const Le=(0,F.Z)(Ne,[["render",se],["__scopeId","data-v-09f6cda2"]]);var Me=Le;const Ue={class:"root-laboratory dc-full dc-flex-row"},Ve={class:"left-nav-bounds"},We={class:"dc-flex-1 border-left"};function Se(e,t,r,o,n,i){const s=(0,g.up)("Linker"),l=(0,g.up)("ReferView"),a=(0,g.up)("router-view");return(0,g.wg)(),(0,g.iD)("div",Ue,[(0,g._)("div",Ve,[((0,g.wg)(!0),(0,g.iD)(g.HY,null,(0,g.Ko)(e.menus,(t=>((0,g.wg)(),(0,g.j4)(s,{key:e.pipe$(t).vueKey,refer:t,class:(0,R.C_)(["dc-block",{"active-refer":t.label===e.pipe$(e.activeRefer).seek("label").value}]),onClick:r=>e.onLikerClick(t),blocked:"","sub-link":""},null,8,["refer","class","onClick"])))),128))]),(0,g._)("div",We,["REFER"===e.referType?((0,g.wg)(),(0,g.j4)(l,{key:0,refer:e.activeRefer},null,8,["refer"])):((0,g.wg)(),(0,g.j4)(a,{key:1}))])])}var Ge=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let ze=class extends I.w3{constructor(...e){super(...e),(0,x.Z)(this,"activeRefer$",void 0),(0,x.Z)(this,"activeRefer",void 0),(0,x.Z)(this,"menus",[{label:"Cells",type:"REFER",href:"./cells/index.html"}])}get referType(){return o.II.get(this.activeRefer,"type")}get menuMapper(){return o.tk.toMap(this.menus,"href")}mounted(){this.onLikerClick(this.menus[0])}onLikerClick(e){this.activeRefer$(e)}};Ge([L.laboratory.Action("activeRefer")],ze.prototype,"activeRefer$",void 0),Ge([L.laboratory.Getter("activeRefer")],ze.prototype,"activeRefer",void 0),ze=Ge([(0,I.Ei)({components:{ReferView:Ce,Linker:ve},emits:[]})],ze);var He=ze;const Be=(0,F.Z)(He,[["render",Se],["__scopeId","data-v-68fe61fc"]]);var Ke=Be;const qe={class:"root dc-full-height dc-flex-row"};function Ye(e,t,r,o,n,i){const s=(0,g.up)("TransferBody"),l=(0,g.up)("OpenApiLoader");return(0,g.wg)(),(0,g.iD)("div",qe,[(0,g.Wm)(s,{class:"dc-flex-other_only"}),(0,g.Wm)(l)])}const Xe={class:"root dc-full-height dc-flex-col border-left"},Je={class:"dc-box-padding padding-bottom__zero"},Qe={class:"dc-flex-other_only height__zero border-top padding"};function et(e,t,r,o,n,i){const s=(0,g.up)("el-button"),l=(0,g.up)("HeaderRow"),a=(0,g.up)("el-input"),c=(0,g.up)("Codemirror2"),d=(0,g.up)("Box");return(0,g.wg)(),(0,g.iD)("div",Xe,[(0,g._)("div",Je,[(0,g.Wm)(l,{text:"API URL"},{default:(0,g.w5)((()=>[(0,g.Wm)(s,{type:"primary",onClick:t[0]||(t[0]=t=>e.onFetch()),loading:e.fetching},{default:(0,g.w5)((()=>[(0,g.Uk)("Fetch")])),_:1},8,["loading"])])),_:1}),(0,g.Wm)(a,{modelValue:e.serveUrl,"onUpdate:modelValue":t[1]||(t[1]=t=>e.serveUrl=t),type:"textarea",rows:5,autosize:{minRows:5,maxRows:5},class:"dc-gap-top",placeholder:"Open API JSON url address",resize:"none"},null,8,["modelValue"])]),(0,g.Wm)(l,{class:"dc-box-padding",text:"API JSON Content"}),(0,g._)("div",Qe,[(0,g.Wm)(d,{class:"dc-full-height"},{default:(0,g.w5)((({rect:r})=>[(0,g.Wm)(c,{modelValue:e.code,"onUpdate:modelValue":t[2]||(t[2]=t=>e.code=t),readonly:"",style:(0,R.j5)({height:r.height+"px",width:r.width-10+"px"})},null,8,["modelValue","style"])])),_:1})])])}const tt={class:"root-box"};function rt(e,t,r,o,n,i){return(0,g.wg)(),(0,g.iD)("div",tt,[(0,g.WI)(e.$slots,"default",{rect:e.rect},void 0,!0)])}var ot=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let nt=class extends I.w3{constructor(...e){super(...e),(0,x.Z)(this,"rect",o.RF.anyO)}mounted(){this.rect=this.$el.getBoundingClientRect()}};nt=ot([(0,I.Ei)({components:{},emits:[]})],nt);var it=nt;const st=(0,F.Z)(it,[["render",rt],["__scopeId","data-v-c1e84ace"]]);var lt=st;const at={class:"code-root"},ct={class:"opts"},dt={class:"btn-bounds dc-text-right"},pt={ref:"codeRef"};function ut(e,t,r,o,n,i){const s=(0,g.up)("el-button"),l=(0,g.Q2)("high-light");return(0,g.wy)(((0,g.wg)(),(0,g.iD)("div",at,[(0,g._)("div",ct,[(0,g._)("div",dt,[(0,g.Wm)(s,{link:"",type:"primary",onClick:e.onCopy},{default:(0,g.w5)((()=>[(0,g.Uk)("复制代码")])),_:1},8,["onClick"])])]),(0,g._)("div",pt,[(0,g.WI)(e.$slots,"default",{},void 0,!0)],512)])),[[l]])}var ft=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let ht=class extends I.w3{get codeRef(){return this.$refs.codeRef}onCopy(){o.d2.copyText(this.codeRef.textContent)}};ht=ft([(0,I.Ei)({components:{},emits:[]})],ht);var vt=ht;const mt=(0,F.Z)(vt,[["render",ut],["__scopeId","data-v-8c4358d8"]]);var yt=mt;const gt={class:"root-codemirror"},Rt={class:"opts"},wt={class:"btn-bounds dc-text-right"};function bt(e,t,r,o,n,i){const s=(0,g.up)("el-button"),l=(0,g.up)("Codemirror");return(0,g.wg)(),(0,g.iD)("div",gt,[(0,g._)("div",Rt,[(0,g._)("div",wt,[(0,g.Wm)(s,{link:"",type:"primary",onClick:e.onFmt},{default:(0,g.w5)((()=>[(0,g.Uk)("格式化")])),_:1},8,["onClick"]),(0,g.Wm)(s,{link:"",type:"primary",onClick:e.onCopy},{default:(0,g.w5)((()=>[(0,g.Uk)("复制代码")])),_:1},8,["onClick"])])]),e.ready?((0,g.wg)(),(0,g.j4)(l,{key:0,modelValue:e.code,"onUpdate:modelValue":t[0]||(t[0]=t=>e.code=t),extensions:e.extensions,disabled:e.readonlyInner,style:(0,R.j5)(e.style)},null,8,["modelValue","extensions","disabled","style"])):(0,g.kq)("",!0)])}var _t=r(3011),$t=r(6159),xt=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Ot=class extends I.w3{constructor(...e){super(...e),(0,x.Z)(this,"modelValue",void 0),(0,x.Z)(this,"readonly",void 0),(0,x.Z)(this,"style",void 0),(0,x.Z)(this,"extension",void 0),(0,x.Z)(this,"code",""),(0,x.Z)(this,"ready",!1)}get readonlyInner(){return this.readonly||0===`${this.readonly}`.length}get extensions(){return[...o.RF.as(this.extension)]}watch$modelValue(){this.code=this.modelValue}watch$code(){this.$emit("update:modelValue",this.code)}mounted(){this.ready=!0}onFmt(){this.code=this.code.replaceAll("\r\n","\n").replaceAll(/(\n{2,})/g,"\n\n")}onCopy(){o.d2.copyText(this.code)}};xt([(0,C.fI)()],Ot.prototype,"modelValue",void 0),xt([(0,C.fI)()],Ot.prototype,"readonly",void 0),xt([(0,C.fI)()],Ot.prototype,"style",void 0),xt([(0,C.fI)({default:[(0,_t.eJ)()]})],Ot.prototype,"extension",void 0),xt([(0,C.RL)("modelValue",{immediate:!0})],Ot.prototype,"watch$modelValue",null),xt([(0,C.RL)("code",{immediate:!0})],Ot.prototype,"watch$code",null),Ot=xt([(0,I.Ei)({components:{Codemirror:$t.Z1},emits:["update:modelValue"]})],Ot);var kt=Ot;const It=(0,F.Z)(kt,[["render",bt],["__scopeId","data-v-51f15480"]]);var Ct=It;const jt={class:"root-header-row dc-flex-row dc-flex-center"},Tt={class:"dc-flex-1"};function Zt(e,t,r,o,n,i){return(0,g.wg)(),(0,g.iD)("div",jt,[(0,g._)("span",Tt,(0,R.zw)(e.text),1),(0,g.WI)(e.$slots,"default",{},void 0,!0)])}var Ft=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Et=class extends I.w3{constructor(...e){super(...e),(0,x.Z)(this,"text",void 0)}};Ft([(0,C.fI)({required:!0})],Et.prototype,"text",void 0),Et=Ft([(0,I.Ei)({components:{},emits:[]})],Et);var Dt=Et;const Pt=(0,F.Z)(Dt,[["render",Zt],["__scopeId","data-v-e9333d4a"]]);var At=Pt,Nt=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Lt=class extends I.w3{constructor(...e){super(...e),(0,x.Z)(this,"setContent",void 0),(0,x.Z)(this,"code","No Data"),(0,x.Z)(this,"serveUrl","http://127.0.0.1:6500/DATA_COLLECTION_OpenAPI.json"),(0,x.Z)(this,"fetching",!1)}watch$code(){this.setContent(JSON.parse(this.code))}onFetch(){this.fetching=!0,fetch(this.serveUrl).then((e=>200===e.status?e.json():Promise.reject(Error(`Status ${e.status}`)))).then((e=>{this.code=JSON.stringify(e,null,4)})).catch((e=>a.z8.error(`Fetch error: ${e.message}`))).finally((()=>o.FI.timer((()=>this.fetching=!1),!1,500)))}};Nt([L.openApiTransfer.Action("content")],Lt.prototype,"setContent",void 0),Nt([(0,C.RL)("code")],Lt.prototype,"watch$code",null),Lt=Nt([(0,I.Ei)({components:{Box:lt,Codemirror2:Ct,HeaderRow:At,CodeHL:yt},emits:[]})],Lt);var Mt=Lt;const Ut=(0,F.Z)(Mt,[["render",et],["__scopeId","data-v-0f659fd0"]]);var Vt=Ut;const Wt={class:"root-transfer-body dc-flex-col padding"},St={class:"dc-flex-1 height__zero border-top dc-flex-row padding-bottom padding-top"};function Gt(e,t,r,o,n,i){const s=(0,g.up)("el-input"),l=(0,g.up)("el-form-item"),a=(0,g.up)("el-switch"),c=(0,g.up)("el-checkbox"),d=(0,g.up)("el-checkbox-group"),p=(0,g.up)("el-button"),u=(0,g.up)("el-form"),f=(0,g.up)("FileTree"),h=(0,g.up)("FileOpener");return(0,g.wg)(),(0,g.iD)("div",Wt,[(0,g.Wm)(u,{model:e.model,"label-position":"top",inline:"",class:"padding"},{default:(0,g.w5)((()=>[(0,g.Wm)(l,{label:"Output Directory",rules:{required:!0}},{default:(0,g.w5)((()=>[(0,g.Wm)(s,{"model-value":e.outputDirName,placeholder:"Click to choose Directory",readonly:"",class:"pointer",onClick:t[0]||(t[0]=t=>e.onChooseOutputDirectory())},null,8,["model-value"])])),_:1}),(0,g.Wm)(l,{label:"Same Classify Mod"},{default:(0,g.w5)((()=>[(0,g.Wm)(a,{modelValue:e.model.entityInOneFile,"onUpdate:modelValue":t[1]||(t[1]=t=>e.model.entityInOneFile=t),"active-value":!0,"active-text":"One File","inactive-value":!1,"inactive-text":"More Files"},null,8,["modelValue"])])),_:1}),(0,g.Wm)(l,{label:"Extract Mod"},{default:(0,g.w5)((()=>[(0,g.Wm)(d,{modelValue:e.model.extract,"onUpdate:modelValue":t[2]||(t[2]=t=>e.model.extract=t)},{default:(0,g.w5)((()=>[((0,g.wg)(!0),(0,g.iD)(g.HY,null,(0,g.Ko)(e.extractMods,((t,r)=>((0,g.wg)(),(0,g.j4)(c,{key:r,label:r,onChange:e.resetExtractMods},{default:(0,g.w5)((()=>[(0,g.Uk)((0,R.zw)(t.text),1)])),_:2},1032,["label","onChange"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,g.Wm)(l,{label:" "},{default:(0,g.w5)((()=>[(0,g.Wm)(p,{type:"primary",onClick:t[3]||(t[3]=t=>e.onTransfer()),loading:e.loading,disabled:e.disableTransferBtn},{default:(0,g.w5)((()=>[(0,g.Uk)(" Transfer ")])),_:1},8,["loading","disabled"])])),_:1})])),_:1},8,["model"]),(0,g._)("div",St,[(0,g.Wm)(f,{root:e.handles.rootDir,class:"border",ref:"fileTreeRef"},null,8,["root"]),(0,g.Wm)(h,{class:"dc-flex-other_only dc-gap-left-2x border"})])])}class zt{static fixWhitespace(e){return e.split("\n").map((e=>zt.whitespace+e)).join("\n")}static fixWhitespaceRows(e,t=!0){const r=e.split("\n").map(zt.fixWhitespace).join("\n");return t?zt.trimEmptyRows(r):r}static typeRepair(e){switch(e){case"integer":return"number";case"array":return"[]";case"string":case"boolean":default:return e}}static trimEmptyRows(e){return(e??"").split("\n").map((e=>0===e.trim().length?"":e)).join("\n")}static repairInvalidChars(e){return e.replaceAll(/([^a-z0-9_$<>.])+/gi,"")}static fieldNameRepair(e){return/[^a-z0-9_$]/gi.test(e)?`'${e}'`:e}}(0,x.Z)(zt,"whitespace",new Array(2).fill(" ").join(""));class Ht{constructor(e){(0,x.Z)(this,"keys",void 0),(0,x.Z)(this,"_content",void 0),(0,x.Z)(this,"_result",void 0),(0,x.Z)(this,"keyMapper",o.RF.as()),this.keys=e,this.keyMapper=e.reduce(((e,t)=>(e[t]=t,e)),{})}get result(){const e=zt.trimEmptyRows(this._result);return this._result=o.RF.nil,`${e}\n`}setContent(e){return this._content=e(this.keyMapper),this}replace(e,t){return this._result=(this._result??this._content).replace(e,t),this}replaceAll(e){return o.II.foreach(e,(({item:e,index:t})=>{this.replace(t,e)})),this}cloneReplaceAll(e){const t=new Ht([...this.keys]);return t._result=this._content,t.replaceAll(e)}}class Bt{get result(){return this._result}constructor(e){(0,x.Z)(this,"schemaDefine",void 0),(0,x.Z)(this,"props",[]),(0,x.Z)(this,"_result",void 0),this.schemaDefine=e,this.parse()}parse(){o.II.foreach(this.schemaDefine.properties,(({item:e,index:t})=>{this.props.push({fieldName:t,type:zt.typeRepair(e.type),description:e.description})}));const e=this.props.map((e=>Bt.propTpl.cloneReplaceAll({$fieldName$:e.fieldName,$description$:e.description,$type$:e.type}).result));this._result=Bt.beanTpl.replaceAll({$name$:zt.repairInvalidChars(this.schemaDefine.title),$props$:zt.fixWhitespaceRows(e.join("\n"))}).result}}(0,x.Z)(Bt,"beanTpl",new Ht(["$name$","$props$"]).setContent((e=>`export interface ${e.$name$} {\n${e.$props$}\n}`))),(0,x.Z)(Bt,"propTpl",new Ht(["$description$","$fieldName$","$type$"]).setContent((e=>`/** ${e.$description$} */\n${e.$fieldName$}: ${e.$type$};`)));class Kt{constructor(e){(0,x.Z)(this,"method",void 0),(0,x.Z)(this,"operation",void 0),(0,x.Z)(this,"path",void 0),(0,x.Z)(this,"root",void 0),(0,x.Z)(this,"_result",void 0),(0,x.Z)(this,"tpl",new Ht(["$description$","$path$","$api_method_name$","$return_type$","$parameter_type$","$path_variable_type$"])),this.method=e,this.setTplContent()}init(e,t,r){return this.path=e,this.operation=t,this.root=r,this}get tagNamedMapper(){return o.tk.toMap(this.root.tags,"name")}get className(){const e=this.operation.tags[0],t=this.tagNamedMapper[e];return t.description.replaceAll(" ","")}get description(){return this.operation.summary}get methodName(){const e=this.path.split("/").reverse();let t="";for(const o of e)if(!o.includes("{")){t=o;break}const r=this.method.split("").map(((e,t)=>0===t?e.toUpperCase():e)).join("");return`${t}${r}`}get returnType(){const e=this.operation.responses[200];if(!("type"in e.schema)){const t=this.repairReferType(e.schema.originalRef);return`entity.${t}`}if("array"===e.schema.type){const t=this.repairReferType(e.schema.items.originalRef);return`entity.${t}`}return e.schema.type}get paramPosGroup(){const e=this.operation.parameters||[];return o.RF.as(o.tk.group(e,"in"))}get queryParamType(){return this.extractParamsDefine("query")}get pathVariableType(){return this.extractParamsDefine("path")}get result(){return this._result}extractParamsDefine(e){if(!(e in this.paramPosGroup))return"void";const t=this.paramPosGroup[e].map((e=>{const t=zt.typeRepair(e.type),r=zt.fieldNameRepair(e.name);return e.name!==r?void 0:`${r}: ${t}`})).filter((e=>o.iA.notNil(e))).join(", ");return`{${t}}`}parse(){return this._result=this.tpl.cloneReplaceAll({$description$:this.operation.summary,$path$:this.path,$api_method_name$:this.methodName,$return_type$:this.returnType,$parameter_type$:this.queryParamType,$path_variable_type$:this.pathVariableType}).result,this}setTplContent(){let e={decorator:"-decorator-",methodType:"-methodType-"};switch(this.method){case"get":e={decorator:"Get",methodType:"GetMapping"};break;case"put":e={decorator:"Put",methodType:"PostMapping"};break;case"post":e={decorator:"Post",methodType:"PostMapping"};break;case"delete":e={decorator:"Delete",methodType:"GetMapping"};break;default:o.h4.throwError(`不支持的操作: ${this.method}`)}this.tpl.setContent((t=>`/** ${t.$description$} */\n@${e.decorator}('${t.$path$}')\nstatic readonly ${t.$api_method_name$}: vmsNet.${e.methodType}<${t.$return_type$}, ${t.$parameter_type$}, ${t.$path_variable_type$}>`))}repairReferType(e){return e=e.replace("«","<entity.").replace("»",">"),zt.repairInvalidChars(e)}}class qt{constructor(e,t,r){(0,x.Z)(this,"path",void 0),(0,x.Z)(this,"methods",void 0),(0,x.Z)(this,"root",void 0),(0,x.Z)(this,"results",[]),(0,x.Z)(this,"className",o.RF.nil),this.path=e,this.methods=t,this.root=r,this.parse()}static result(e,t){const r=new Ht(["$class_name$","$methods$"]).setContent((e=>`import { Delete, Get, Post, Put, vmsNet } from '@hyong8023/tool-box';\n\nexport class ${e.$class_name$} {\n${e.$methods$}\n}`)),{result:o}=r.replace(r.keyMapper.$class_name$,e).replace(r.keyMapper.$methods$,t.reduce(((e,t)=>(e.push(...t.results),e)),[]).map(zt.fixWhitespace).join("\n"));return o}parse(){o.II.foreach(this.methods,(({item:e,index:t})=>{const r=qt.PARSER_MAPPER[t];if(o.iA.isNil(r))return void o.UL.warn(`暂不支持此请求方式: ${t.toUpperCase()}`);const n=r.init(this.path,e,this.root);this.className=this.className??n.className;const{result:i}=n.parse();this.results.push(i)}))}}(0,x.Z)(qt,"PARSER_MAPPER",{get:new Kt("get"),put:new Kt("put"),post:new Kt("post"),delete:new Kt("delete")});class Yt{static transfer(e){this.root=e;const t=this.extractDefinitions();return{entities:()=>this.generateEntities(t),apis:this.extractPaths()}}static extractDefinitions(){return Object.values(this.root.definitions).filter((e=>"object"===e.type)).filter((e=>!e.title.includes("«"))).map((e=>new Bt(e)))}static generateEntities(e){const t=e.map((({result:e})=>e)).map(zt.fixWhitespace).join("\n");return new Ht(["$classes$"]).setContent((e=>`export namespace entity {\n${e.$classes$}\n}`)).replaceAll({$classes$:t}).result}static extractPaths(){const e=[];o.II.foreach(this.root.paths,(t=>{const r=new qt(t.index,t.item,this.root);e.push(r)}));const t=o.RF.as();return o.II.foreach(o.tk.group(e,"className"),(({item:e,index:r})=>{t[r]=qt.result(r,e)})),t}}(0,x.Z)(Yt,"root",void 0);const Xt={class:"root-file-opener dc-full-height dc-flex-col"},Jt={class:"dc-flex-1"};function Qt(e,t,r,o,n,i){const s=(0,g.up)("el-tab-pane"),l=(0,g.up)("el-tabs"),a=(0,g.up)("Box"),c=(0,g.up)("BoxCode");return(0,g.wg)(),(0,g.iD)("div",Xt,[(0,g.Wm)(a,{class:"files-opened-scroller"},{default:(0,g.w5)((({rect:r})=>[(0,g.Wm)(l,{modelValue:e.openedFile,"onUpdate:modelValue":t[0]||(t[0]=t=>e.openedFile=t),type:"card",style:(0,R.j5)({width:r.width+"px"}),onTabChange:t[1]||(t[1]=t=>e.onTabChange(t)),onTabRemove:t[2]||(t[2]=t=>e.onTabRemove(t)),closable:e.filePanelClosable},{default:(0,g.w5)((()=>[((0,g.wg)(!0),(0,g.iD)(g.HY,null,(0,g.Ko)(e.files,(t=>((0,g.wg)(),(0,g.j4)(s,{key:t.id,label:t.handle.name+"-"+e.filePanelClosable,name:t.id},null,8,["label","name"])))),128))])),_:2},1032,["modelValue","style","closable"])])),_:1}),(0,g._)("div",Jt,[(0,g.Wm)(c,{code:e.current.content,"onUpdate:code":t[3]||(t[3]=t=>e.current.content=t)},null,8,["code"])])])}function er(e,t,r,o,n,i){const s=(0,g.up)("Codemirror2"),l=(0,g.up)("Box");return(0,g.wg)(),(0,g.j4)(l,{class:"dc-full-height"},{default:(0,g.w5)((({rect:r})=>[(0,g.Wm)(s,{modelValue:e.codeInner,"onUpdate:modelValue":t[0]||(t[0]=t=>e.codeInner=t),readonly:e.readonlyInner,style:(0,R.j5)({height:r.height+"px",width:r.width-10+"px"})},null,8,["modelValue","readonly","style"])])),_:1})}var tr=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let rr=class extends I.w3{constructor(...e){super(...e),(0,x.Z)(this,"code",void 0),(0,x.Z)(this,"readonly",void 0),(0,x.Z)(this,"codeInner","")}get readonlyInner(){return de.checkConfigured(this.readonly)}watch$code(){this.codeInner=this.code}watch$codeInner(){this.$emit("update:code",this.codeInner)}};tr([(0,C.fI)()],rr.prototype,"code",void 0),tr([(0,C.fI)({default:!0})],rr.prototype,"readonly",void 0),tr([(0,C.RL)("code",{immediate:!0})],rr.prototype,"watch$code",null),tr([(0,C.RL)("codeInner")],rr.prototype,"watch$codeInner",null),rr=tr([(0,I.Ei)({components:{Box:lt,Codemirror2:Ct},emits:["update:code"]})],rr);var or=rr;const nr=(0,F.Z)(or,[["render",er],["__scopeId","data-v-ace42172"]]);var ir=nr,sr=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let lr=class extends I.w3{constructor(...e){super(...e),(0,x.Z)(this,"currentFile",void 0),(0,x.Z)(this,"setCurrentFile",void 0),(0,x.Z)(this,"setFiles",void 0),(0,x.Z)(this,"files",void 0),(0,x.Z)(this,"openedFile",""),(0,x.Z)(this,"current",{file:o.RF.nil,content:""})}get fileMapper(){return o.tk.toMap(this.files,"id")}get currentFileIndex(){return this.files.indexOf(this.currentFile)}get filePanelClosable(){return this.files.length>1}watch$currentFile(){if(this.currentFile){if(this.openedFile=this.currentFile.id,!(this.currentFile.id in this.fileMapper)){const e=[...this.files,this.currentFile];this.setFiles(e)}this.readFileContent()}}async readFileContent(){const e=await this.currentFile.handle.getFile(),t=new FileReader;t.readAsText(e),t.onloadend=()=>{this.current.content=o.RF.as(t.result)}}onTabChange(e){const t=this.fileMapper[e];this.setCurrentFile(t)}onTabRemove(e){const{currentFileIndex:t}=this;let r;const o=this.files.filter((({id:t},o)=>t!==e||(r=o,!1)));let n;if(t===r){const e=Math.min(o.length-1,r);n=o[e]}else n=this.currentFile;this.setFiles(o),this.setCurrentFile(n),this.readFileContent()}};sr([L.openApiTransfer.Getter("currentFile")],lr.prototype,"currentFile",void 0),sr([L.openApiTransfer.Action("currentFile")],lr.prototype,"setCurrentFile",void 0),sr([L.openApiTransfer.Action("files")],lr.prototype,"setFiles",void 0),sr([L.openApiTransfer.Getter("files")],lr.prototype,"files",void 0),sr([(0,C.RL)("currentFile",{immediate:!0})],lr.prototype,"watch$currentFile",null),lr=sr([(0,I.Ei)({components:{Box:lt,BoxCode:ir},emits:[]})],lr);var ar=lr;const cr=(0,F.Z)(ar,[["render",Qt],["__scopeId","data-v-62004cd9"]]);var dr=cr;const pr={class:"root-file-tree dc-full-height"};function ur(e,t,r,o,n,i){const s=(0,g.up)("FileTreeNode"),l=(0,g.up)("Scroller");return(0,g.wg)(),(0,g.iD)("div",pr,[(0,g.Wm)(l,{class:"dc-full-height"},{default:(0,g.w5)((()=>[((0,g.wg)(!0),(0,g.iD)(g.HY,null,(0,g.Ko)(e.fileTree,(e=>((0,g.wg)(),(0,g.j4)(s,{key:e.id,node:e},null,8,["node"])))),128))])),_:1})])}var fr=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let hr=class extends I.w3{constructor(...e){super(...e),(0,x.Z)(this,"root",void 0),(0,x.Z)(this,"fileTree",[])}watch$root(){this.fileTree.length=0,this.root&&this.readFiles(this.root,this.fileTree)}async readFiles(e,t){const r=[];t.push({id:o.eI.guid(),handle:e,children:r});for await(const n of e.values())"file"===n.kind&&r.push({id:o.eI.guid(),children:[],handle:n}),"directory"===n.kind&&await this.readFiles(n,r)}rerender(){this.watch$root()}};fr([(0,C.fI)({required:!0})],hr.prototype,"root",void 0),fr([(0,C.RL)("root")],hr.prototype,"watch$root",null),hr=fr([(0,I.Ei)({components:{Scroller:De,FileTreeNode:S},emits:[]})],hr);var vr=hr;const mr=(0,F.Z)(vr,[["render",ur],["__scopeId","data-v-382cc2be"]]);var yr=mr,gr=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Rr=class extends I.w3{constructor(...e){super(...e),(0,x.Z)(this,"setRootHandle",void 0),(0,x.Z)(this,"apiDocRoot",void 0),(0,x.Z)(this,"extractMod",void 0),(0,x.Z)(this,"extractMods",{entities:{text:"Entity"},netApis:{text:"Net Apis"}}),(0,x.Z)(this,"model",{entityInOneFile:!0,extract:Object.keys(this.extractMods)}),(0,x.Z)(this,"handles",{rootDir:o.RF.nil}),(0,x.Z)(this,"loading",!1)}get outputDirName(){return o.II.get(this.handles.rootDir,"name")}get disableTransferBtn(){return o.iA.isEmpty(this.apiDocRoot)||!this.outputDirName}get fileTreeRef(){return this.$refs.fileTreeRef}onChooseOutputDirectory(){window.showDirectoryPicker().then((async e=>{let t=!0;for await(const r of e.entries())t=!1;t||a.z8.error("Only support an empty directory"),this.handles.rootDir=e,this.setRootHandle(this.handles.rootDir)})).catch((e=>{const t="No output directory selected";a.z8.info(t),o.UL.debug(`${t}, Error:`,e)}))}async onTransfer(){this.loading=!0;const e=Yt.transfer(this.apiDocRoot);if(this.model.extract.includes("entities")){const t=e.entities(),r=await this.handles.rootDir.getFileHandle("entity.ts",{create:!0});await this.writeFile(r,t)}if(this.model.extract.includes("netApis")){const t=await this.handles.rootDir.getDirectoryHandle("net-serve",{create:!0});await o.II.foreach(e.apis,(async({item:e,index:r})=>{const o=await t.getFileHandle(`${r}.ts`,{create:!0});await this.writeFile(o,e)}),!1)}a.z8.success("导出成功"),this.loading=!1,this.fileTreeRef.rerender()}async writeFile(e,t){const r=await e.createWritable();await r.write(t),await r.close()}resetExtractMods(){this.extractMod(this.model.extract)}};gr([L.openApiTransfer.Action("rootHandle")],Rr.prototype,"setRootHandle",void 0),gr([L.openApiTransfer.Getter("content")],Rr.prototype,"apiDocRoot",void 0),gr([L.openApiTransfer.Action("extractMod")],Rr.prototype,"extractMod",void 0),Rr=gr([(0,I.Ei)({components:{FileOpener:dr,FileTree:yr},emits:[]})],Rr);var wr=Rr;const br=(0,F.Z)(wr,[["render",Gt],["__scopeId","data-v-3a854a97"]]);var _r=br,$r=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let xr=class extends I.w3{};xr=$r([(0,I.Ei)({components:{TransferBody:_r,OpenApiLoader:Vt},emits:[]})],xr);var Or=xr;const kr=(0,F.Z)(Or,[["render",Ye],["__scopeId","data-v-3eb11ce2"]]);var Ir=kr;const Cr={class:"root dc-flex-row dc-full"},jr={class:"left-nav-bounds"},Tr={class:"dc-flex-1 border-left"};function Zr(e,t,r,o,n,i){const s=(0,g.up)("Linker"),l=(0,g.up)("router-view");return(0,g.wg)(),(0,g.iD)("div",Cr,[(0,g._)("div",jr,[((0,g.wg)(!0),(0,g.iD)(g.HY,null,(0,g.Ko)(e.menus,(t=>((0,g.wg)(),(0,g.j4)(s,{key:e.pipe$(t).vueKey,refer:t,class:(0,R.C_)(["dc-block",{"active-refer":t.label===e.pipe$(e.activeToolRefer).seek("label").value}]),onClick:r=>e.onLikerClick(t),blocked:"","sub-link":""},null,8,["refer","class","onClick"])))),128))]),(0,g._)("div",Tr,[(0,g.Wm)(l)])])}var Fr=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Er=class extends I.w3{constructor(...e){super(...e),(0,x.Z)(this,"setActiveToolRefer",void 0),(0,x.Z)(this,"activeToolRefer",void 0),(0,x.Z)(this,"menus",[{type:"INNER",path:"/online-tools/knife4jApiTransfer",label:"Knife4j API Transfer"}])}get menuMapper(){return o.tk.toMap(this.menus,"path")}mounted(){const e=this.menuMapper[this.$route.path];e&&this.onLikerClick(e)}unmounted(){this.setActiveToolRefer(o.RF.nil)}onLikerClick(e){this.setActiveToolRefer(e),"INNER"===e.type&&this.$router.push({path:e.path})}};Fr([L.sys.Action("toolRefer")],Er.prototype,"setActiveToolRefer",void 0),Fr([L.sys.Getter("toolRefer")],Er.prototype,"activeToolRefer",void 0),Er=Fr([(0,I.Ei)({components:{Scroller:De,Linker:ve},emits:[]})],Er);var Dr=Er;const Pr=(0,F.Z)(Dr,[["render",Zr],["__scopeId","data-v-3db74cd7"]]);var Ar=Pr,Nr=r(2483);const Lr=[{path:"/",component:Me},{path:"/online-tools",component:Me,children:[{path:"",component:Ar,children:[{path:"",redirect:"/online-tools/knife4jApiTransfer"},{path:"knife4jApiTransfer",component:Ir}]}]},{path:"/laboratory",component:Me,children:[{path:"",component:Ke}]}],Mr=(0,Nr.p7)({history:(0,Nr.r5)(""),routes:Lr});var Ur=Mr,Vr=r(7139);const Wr=[N,A,P];var Sr=(0,Vr.MT)({modules:Wr.reduce(((e,t)=>(o.II.computeIfAbsent(e,t.__name__,t),e)),o.RF.as())});(0,J.ri)(re).use(Sr).use(Ur).use(X).mount("#app")},2498:function(e,t,r){var o={"./File.svg":8007,"./opened-folder.svg":3929};function n(e){var t=i(e);return r(t)}function i(e){if(!r.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=i,e.exports=n,n.id=2498},8007:function(e,t,r){"use strict";e.exports=r.p+"img/File.52b059ac.svg"},3929:function(e,t,r){"use strict";e.exports=r.p+"img/opened-folder.22969159.svg"},4654:function(){}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,o,n,i){if(!o){var s=1/0;for(d=0;d<e.length;d++){o=e[d][0],n=e[d][1],i=e[d][2];for(var l=!0,a=0;a<o.length;a++)(!1&i||s>=i)&&Object.keys(r.O).every((function(e){return r.O[e](o[a])}))?o.splice(a--,1):(l=!1,i<s&&(s=i));if(l){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,n,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p=""}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,i,s=o[0],l=o[1],a=o[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(n in l)r.o(l,n)&&(r.m[n]=l[n]);if(a)var d=a(r)}for(t&&t(o);c<s.length;c++)i=s[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},o=self["webpackChunkdev"]=self["webpackChunkdev"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(1917)}));o=r.O(o)})();
//# sourceMappingURL=app.ef191b05.js.map